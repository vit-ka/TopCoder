<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
Shiny has a company.
There are N employees in her company.
The employees are numbered 0 through N-1 in order in which they joined the company.
</p><br></br><p>
Employee 0 is the only employee with no boss.
Every other employee has precisely one direct boss in the company.
You are given a int[] <b>superior</b> with N elements.
Element 0 of <b>superior</b> will be -1 to denote that employee 0 has no boss.
For each i between 1 and N-1, inclusive, element i of <b>superior</b> will be the number of the boss of employee i.
</p><br></br><p>
For each employee, their boss joined the company before them.
Formally, for each i between 1 and N-1, inclusive, <b>superior</b>[i] will be between 0 and i-1, inclusive.
</p><br></br><p>
At the moment, the employees of Shiny's company cannot do anything useful.
Shiny would like to change this.
She decided that she will pay for the employees' training.
More precisely, each employee will be trained to do two different types of work.
(The two types of work may be different for different employees.)
</p><br></br><p>
There are K types of work for which training is available.
You are given a int[] <b>training</b> with K elements.
For each i, <b>training</b>[i] is the cost of training any single employee to do work of type i.
If multiple employees are trained to do the same work type, Shiny must pay for each of them separately.
</p><br></br><p>
Each employee of the company has their own <i>department</i>.
The department of employee x is formed by employee x and all the employees such that x is their boss.
Formally, for any y different from x, employee y belongs into the department of employee x if and only if <b>superior</b>[y]=x.
Note that if <b>superior</b>[z]=y and <b>superior</b>[y]=x, employee z <i>does not</i> belong into the department of employee x.
</p><br></br><p>
Shiny likes <i>diverse</i> departments.
A department is <i>diverse</i> if:
<ul>
<li>Each employee in the department is doing something, and</li>
<li>no two employees in the department are doing the same type of work.</li>
</ul>
</p><br></br><p>
When Shiny comes to inspect a department, the employees in the department try to choose their work so that the department will be diverse.
If they can do that, Shiny says that the department is <i>good</i>.
</p><br></br><p>
Shiny considers her company <i>good</i> if all N departments are good.
(Note that the departments are not required to be diverse at the same time. A company is good as soon as each of its departments can be diverse at some point in time.)
</p><br></br><p>
Shiny now wants to choose, for each employee, the two work types they will be trained to do.
Shiny wants to have a good company, and also to spend as little money as possible.
</p><br></br><p>
If it is possible for Shiny to have a good company, return the smallest possible total amount of money spent on training the employees.
If it is impossible, return -1 instead.
</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>GoodCompanyDivOne</td></tr><tr><td>Method:</td><td>minimumCost</td></tr><tr><td>Parameters:</td><td>int[], int[]</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int minimumCost(int[] superior, int[] training)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Each employee must learn to perform exactly two different work types (even though they might never need to do one of those two types of work).</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>superior</b> will contain between 1 and 30 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>superior</b>[0] will be -1.</td></tr><tr><td align="center" valign="top">-</td><td>For each valid i&gt;0, <b>superior</b>[i] will be between 0 and i-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>training</b> will contain between 2 and 30 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>training</b> will be between 1 and 100, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1}</pre></td></tr><tr><td><pre>{1, 2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">There is only one employee (employee 0) and two work types. Employee 0 has to be trained to do both work types. This costs 1+2 = 3. After the training, the company is clearly good.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 0}</pre></td></tr><tr><td><pre>{1, 2, 3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 10</pre></td></tr><tr><td><table><tr><td colspan="2">One optimal solution:
<ul>
<li>Employee 0 learns work types 0 and 1 which costs 1+2 = 3.</li>
<li>Employee 1 learns work types 0 and 1 which costs 1+2 = 3.</li>
<li>Employee 2 learns work types 0 and 2 which costs 1+3 = 4.</li>
</ul>
The total cost is 3+3+4 = 10.
The company is now good because:
<ul>
<li>The department of employee 0 is formed by employees 0, 1, and 2. This department is good because they can choose work types 0, 1, and 2, respectively.</li>
<li>The department of employee 1 is formed only by employee 1 and it is clearly good.</li>
<li>The department of employee 2 is formed only by employee 2 and it is clearly good.</li>
</ul>
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 0, 0}</pre></td></tr><tr><td><pre>{1, 2, 3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2">There are only three work types, but there are four employees in employee 0's department.
Therefore, this department can never be good.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 0, 2, 2, 2, 1, 1, 6, 0, 5, 4, 11, 10, 3, 6, 11, 7, 0, 2, 13, 14, 2, 10, 9, 11, 22, 10, 3}</pre></td></tr><tr><td><pre>{4, 2, 6, 6, 8, 3, 3, 1, 1, 5, 8, 6, 8, 2, 4}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 71</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>